@model DnDInventorySystem.Models.Item

@{
    ViewData["Title"] = Model.Name;
}

<div class="d-flex align-items-center justify-content-between mb-4">
    <div>
        <h1 class="mb-1">@Model.Name</h1>
        <div class="text-muted">Game: @Model.Game?.Name Â· Category: @(Model.Category?.Name ?? "Uncategorized")</div>
    </div>
    <div class="d-flex gap-2">
        @if (ViewBag.CanEditItem == true)
        {
            <a class="btn btn-outline-secondary" asp-action="Edit" asp-route-id="@Model.Id">Edit</a>
        }
        <a class="btn btn-link" asp-action="Index" asp-route-gameId="@Model.GameId">Back to items</a>
    </div>
</div>

<div class="row g-4">
    <div class="col-lg-5">
        <div class="card shadow-sm h-100">
            <div class="card-body text-center">
                @if (!string.IsNullOrWhiteSpace(Model.PhotoUrl))
                {
                    <img src="@Model.PhotoUrl" alt="@Model.Name" class="img-fluid rounded shadow-sm" style="max-height: 280px; object-fit: cover;" />
                }
                else
                {
                    <div class="text-muted">No image set</div>
                }
            </div>
        </div>
    </div>
    <div class="col-lg-7">
        <div class="card shadow-sm h-100">
            <div class="card-body">
                <h5 class="card-title">Details</h5>
                <p class="mb-3 text-muted">@(string.IsNullOrWhiteSpace(Model.Description) ? "No description" : Model.Description)</p>
                <dl class="row mb-0">
                    <dt class="col-sm-4">Game</dt>
                    <dd class="col-sm-8">@Model.Game?.Name</dd>
                    <dt class="col-sm-4">Category</dt>
                    <dd class="col-sm-8">@Model.Category?.Name ?? "Uncategorized"</dd>
                    <dt class="col-sm-4">Created by</dt>
                    <dd class="col-sm-8">@Model.CreatedByUser?.Name</dd>
                </dl>
            </div>
        </div>
    </div>
</div>
